<!DOCTYPE html>
<html  lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--360浏览器优先以webkit内核解析-->
    <title>燃气系统</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <link href="../static/css/font-awesome.min.css" th:href="@{/css/font-awesome.min.css}" rel="stylesheet"/>
    <link href="../static/css/main/animate.min.css" th:href="@{/css/main/animate.min.css}" rel="stylesheet"/>
    <link href="../static/css/main/style.min862f.css" th:href="@{/css/main/style.min862f.css}" rel="stylesheet"/>
    <link href="../static/css/main.css" th:href="@{/css/main.css}" rel="stylesheet"/>
    <link rel="stylesheet" href="https://apip.weatherdt.com/float/static/css/tqw_widget_float.css?v=0101">
</head>

<body class="gray-bg">
<div class="container">
    <div class="topHead">
        燃气系统
    </div>
    <div class="contentBlock">
        <div class="left">
            <div class="block block1">
                <span class="mycorner lefttop"></span>
                <span class="mycorner righttop"></span>
                <span class="mycorner leftbottom"></span>
                <span class="mycorner rightbottom"></span>
                <div class="seTitle">巡检情况统计</div>
                <div class="seCon">
                    <div class="chartBlock2">
                        <div id="echart5" style="width: 100%;height: 100%"></div>
                    </div>
                </div>
            </div>
            <div class="block block2">
                <span class="mycorner lefttop"></span>
                <span class="mycorner righttop"></span>
                <span class="mycorner leftbottom"></span>
                <span class="mycorner rightbottom"></span>
                <div class="seTitle">风险情况统计</div>
                <div class="seCon">
                    <div class="chartBlock">
                        <div id="echart2" style="width: 100%;height: 100%"></div>
                    </div>
                    <div class="tableBlock">
                        <table>
                            <thead>
                            <tr>
                                <td>风险等级</td>
                                <td>数量</td>
                            </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="block block3">
                <span class="mycorner lefttop"></span>
                <span class="mycorner righttop"></span>
                <span class="mycorner leftbottom"></span>
                <span class="mycorner rightbottom"></span>
                <div class="seTitle">隐患情况统计</div>
                <div class="seCon">
                    <div class="chartBlock2">
                        <div id="echart4" style="width: 100%;height: 100%"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="center">
            <div class="block block1">
                <span class="mycorner lefttop"></span>
                <span class="mycorner righttop"></span>
                <span class="mycorner leftbottom"></span>
                <span class="mycorner rightbottom"></span>
                <div class="msgBlock">
                    <div class="centerLeft">
                        <div class="time1"></div>
                        <div class="time2"></div>
                        <div class="season">
                            <div id="weather"></div>
                        </div>
                    </div>
                    <div class="centerRight">
                        <table>
                            <thead>
                            <tr>
                                <td>值班人员</td>
                                <td>职务</td>
                                <td>联系方式</td>
                            </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="block block2">
                <span class="mycorner lefttop"></span>
                <span class="mycorner righttop"></span>
                <span class="mycorner leftbottom"></span>
                <span class="mycorner rightbottom"></span>
                <div class="seTitle">监控视频</div>
                <div class="seCon">
                    <img alt="" src="../static/img/video.png" th:src="@{/img/video.png}">
                </div>
            </div>
        </div>
        <div class="right">
            <div class="block block1">
                <span class="mycorner lefttop"></span>
                <span class="mycorner righttop"></span>
                <span class="mycorner leftbottom"></span>
                <span class="mycorner rightbottom"></span>
                <div class="seTitle">设备总览</div>
                <div class="seCon">
                    <div class="chartBlock">
                        <div id="echart1" style="width: 100%;height: 100%"></div>
                    </div>
                </div>
            </div>
            <div class="block block2">
                <span class="mycorner lefttop"></span>
                <span class="mycorner righttop"></span>
                <span class="mycorner leftbottom"></span>
                <span class="mycorner rightbottom"></span>
                <div class="seTitle">应急预案、人员、物资</div>
                <div class="seCon">
                    <div class="chartBlock2">
                        <div id="echart6" style="width: 100%;height: 100%"></div>
                    </div>
                </div>
            </div>
            <div class="block block3">
                <span class="mycorner lefttop"></span>
                <span class="mycorner righttop"></span>
                <span class="mycorner leftbottom"></span>
                <span class="mycorner rightbottom"></span>
                <div class="seTitle">未巡检</div>
                <div class="seCon">
                    <div class="chartBlock2">
                        <div id="echart7" style="width: 100%;height: 100%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/ajax/libs/layer/layer.min.js}"></script>
<script th:src="@{/dist/echarts.min.js}"></script>
<!--<script src="https://apip.weatherdt.com/float/static/js/tqw_widget_float.js?v=0101"></script>-->
<script type="text/javascript">
    WIDGET = {FID: 'qhaGYeyTf0'}
</script>
<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>

<script type="text/javascript">
    $(document).ready(function(){

        $('#weather-float-he').find('a').attr('href', 'javascript:void(0);');
        var dom_tianqi = $('#weather-float-he').children('div');
        var len = dom_tianqi.length;
        if (len > 1) {
            dom_tianqi.eq(1).children('div').eq(0).animate({ height: 400 }, 300);
        }
        //处理背景，消除水印，居中定位
        $('.wf-vs-copyright').remove();
        $('#weather-float-he').children('div').eq(0).css('background-image', '');
        $('#weather-float-he').children('div').eq(0).css('box-shadow', '');
        $('#weather-float-he').css({ width: 170, top: "50%", left: "50%", transform: "translate(-50%, -50%)" });
        $('#weather').append($('#weather-float-he'));
        var chartData1 = [
            {name:"输配",value: 307},
            {name:"调压",value: 578},
            {name:"计量",value: 96},
            {name:"控制",value: 987},
            {name:"气化",value: 87},
            {name:"防爆",value: 987},
        ]
        var chartData2 = [
            {name:"A级风险",value: 285},
            {name:"B级风险",value: 410},
            {name:"C级风险",value: 274},
            {name:"D级风险",value: 235},
        ]
        var chartData31 = [
            {name:"A级隐患",value: 285},
            {name:"B级隐患",value: 410},
            {name:"C级隐患",value: 274},
        ]
        var chartData32 = [
            {name:"燃气调压设施",value: 285},
            {name:"燃气控制设施",value: 410},
            {name:"防爆装置",value: 274},
            {name:"管道",value: 274},
        ]
        var chartData33 = [
            {name:"人员行为隐患",value: 11},
            {name:"设备设施隐患",value: 9},
            {name:"外部环境隐患",value: 7},
            {name:"其它隐患",value: 5},
        ]
        var chartData4 =[
            {name:"输气",value: [3.6, 3.4, 3.2,3.5],color1:"#1488CC",color2:"#2B32B2"},
            {name:"配气",value: [3.5, 3.3, 3.1,3.5],color1:"#A5CC82",color2:"#00467F"},
        ]
        var chartData51 =[
            {name:"塌方事故",value: 50},
            {name:"爆燃事故",value: 30},
            {name:"火灾事故",value: 10},
            {name:"中毒环境",value: 60},
            {name:"漏气事故",value: 10},
        ]
        var chartData52 = [
            {name:"人员",value: 40},
            {name:"设备",value: 50},
            {name:"物料",value: 60},
            {name:"运输",value: 70},
        ]
        var chartData6 = [
            {name:"输配",value: 40},
            {name:"调压",value: 50},
            {name:"计量",value: 60},
            {name:"控制",value: 70},
            {name:"气化",value: 98},
            {name:"防爆",value: 98},
        ]
        var chartData7 = [
            {name:"马宏宇",job:"值班员",phone:"15320202020"},
            {name:"宗敬先",job:"值班领导",phone:"15320202020"}
        ]
        reTable1(chartData1)
        reTable2(chartData2)
        reTable3(chartData32)
        reTable4(chartData52)
        reTable5(chartData6)
        reTable6(chartData7)
        getTime()
        chart1()
        chart2(chartData2)
        //chart3(chartData31)
        chart4(chartData33)
        chart5(chartData4)
        chart6(chartData51)
        chart7()
    })
    function reTable1(data){
        var str="";
        for(var i=0;i<data.length;i++) {
            str+="<tr>";
            str+="<td>"+data[i].name+"</td>";
            str+="<td>"+data[i].value+"</td>";
            str+="</tr>";
        }
        $(".left .block1 table tbody").html(str)
    }
    function reTable2(data){
        var str="";
        for(var i=0;i<data.length;i++) {
            str+="<tr>";
            str+="<td>"+data[i].name+"</td>";
            str+="<td>"+data[i].value+"</td>";
            str+="</tr>";
        }
        $(".left .block2 table tbody").html(str)
    }
    function reTable3(data){
        var str="";
        for(var i=0;i<data.length;i++) {
            str+="<tr>";
            str+="<td>"+data[i].name+"</td>";
            str+="<td>"+data[i].value+"</td>";
            str+="</tr>";
        }
        $(".left .block3 table tbody").html(str)
    }
    function reTable4(data){
        var str="";
        for(var i=0;i<data.length;i++) {
            str+="<tr>";
            str+="<td>"+data[i].name+"</td>";
            str+="<td>"+data[i].value+"</td>";
            str+="</tr>";
        }
        $(".right .block2 table tbody").html(str)
    }
    function reTable5(data){
        var str="";
        for(var i=0;i<data.length;i++) {
            str+="<tr>";
            str+="<td>"+data[i].name+"</td>";
            str+="<td>"+data[i].value+"</td>";
            str+="</tr>";
        }
        $(".right .block3 table tbody").html(str)
    }
    function reTable6(data){
        var str="";
        for(var i=0;i<data.length;i++) {
            str+="<tr>";
            str+="<td>"+data[i].name+"</td>";
            str+="<td>"+data[i].job+"</td>";
            str+="<td>"+data[i].phone+"</td>";
            str+="</tr>";
        }
        $(".center .block1 table tbody").html(str)
    }
    function getTime(){
        var str1="";
        var str2="";
        var date = new Date();
        var year = date.getFullYear();
        var month = date.getMonth()+1;
        var day = date.getDate();
        var hour = date.getHours();
        var minute = date.getMinutes();
        var second = date.getSeconds();
        var week = date.getDay();
        month = addTen(month)
        day = addTen(day)
        hour = addTen(hour)
        minute = addTen(minute)
        second = addTen(second)

        switch(week){
            case 1:
                week = "一";
                break;
            case 2:
                week = "二";
                break;
            case 3:
                week = "三";
                break;
            case 4:
                week = "四";
                break;
            case 5:
                week = "五";
                break;
            case 6:
                week = "六";
                break;
            case 7:
                week = "日";
                break;
            default:
                week = "日";
                break;
        }
        var str1=hour+":"+minute+":"+second;
        var str2=year+"年"+month+"月"+day+"日"+" 星期"+week;
        $(".center .msgBlock .centerLeft .time1").html(str1)
        $(".center .msgBlock .centerLeft .time2").html(str2)

    }
    function addTen(val){
        var result = 0;
        if(val < 10) {
            result="0"+val;
        }else {
            result = val
        }
        return result;
    }

    function chart1(){
        var dataStyle = {
            normal: {
                label: {show:false},
                labelLine: {show:false},
                shadowBlur: 40,
                shadowColor: 'rgba(40, 40, 40, 0.5)',
            }
        };
        var placeHolderStyle = {
            normal : {
                color: 'rgba(0,0,0,0)',
                label: {show:false},
                labelLine: {show:false}
            },
            emphasis : {
                color: 'rgba(0,0,0,0)'
            }
        };
        var myChart = echarts.init(document.getElementById('echart1'));
        var option = {
            color: ['#85b6b2', '#6d4f8d','#cd5e7e', '#e38980','#f7db88','#8BA27C'],
            tooltip : {
                show: true,
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },

            legend: {
                itemGap:12,
                orient:'vertical',
                top: "center",
                right: '4%',
                data:['输配','调压','计量','控制','气化','防爆'],
                textStyle:{
                    color:'#fff'
                }
            },
            series : [
                {
                    name:'Line 1',
                    type:'pie',
                    clockWise:false,
                    radius : [70,80],
                    itemStyle : dataStyle,
                    hoverAnimation: false,

                    data:[
                        {
                            value:300,
                            name:'输配'
                        },
                        {
                            value:50,
                            name:'invisible',
                            itemStyle : placeHolderStyle
                        }

                    ]
                },
                {
                    name:'Line 2',
                    type:'pie',
                    clockWise:false,
                    radius : [60, 70],
                    itemStyle : dataStyle,
                    hoverAnimation: false,

                    data:[
                        {
                            value:150,
                            name:'调压'
                        },
                        {
                            value:60,
                            name:'invisible',
                            itemStyle : placeHolderStyle
                        }
                    ]
                },
                {
                    name:'Line 3',
                    type:'pie',
                    clockWise:false,
                    hoverAnimation: false,
                    radius : [50, 60],
                    itemStyle : dataStyle,

                    data:[
                        {
                            value:80,
                            name:'计量'
                        },
                        {
                            value:50,
                            name:'invisible',
                            itemStyle : placeHolderStyle
                        }
                    ]
                },
                {
                    name:'Line 4',
                    type:'pie',
                    clockWise:false,
                    hoverAnimation: false,
                    radius : [40, 50],
                    itemStyle : dataStyle,

                    data:[
                        {
                            value:45,
                            name:'控制'
                        },
                        {
                            value:30,
                            name:'invisible',
                            itemStyle : placeHolderStyle
                        }
                    ]
                },
                {
                    name:'Line 5',
                    type:'pie',
                    clockWise: false,
                    hoverAnimation: false,
                    radius : [30, 40],
                    itemStyle : dataStyle,

                    data:[
                        {
                            value:30,
                            name:'气化'
                        },
                        {
                            value:30,
                            name:'invisible',
                            itemStyle : placeHolderStyle
                        }
                    ]
                },
                {
                    name:'Line 6',
                    type:'pie',
                    clockWise: false,
                    hoverAnimation: false,
                    radius : [20, 30],
                    itemStyle : dataStyle,

                    data:[
                        {
                            value:15,
                            name:'防爆'
                        },
                        {
                            value:30,
                            name:'invisible',
                            itemStyle : placeHolderStyle
                        }
                    ]
                },

            ]
        }
        myChart.setOption(option);
        window.addEventListener("resize", function() {
            myChart.resize();
        });
    }
    function chart2(data){
        var myChart = echarts.init(document.getElementById('echart2'));
        var option = {
            tooltip: {
                trigger: 'item',
                formatter: "{b} : {c} ({d}%)"
            },

            visualMap: {
                show: false,
                min: 500,
                max: 600,
                inRange: {
                    //colorLightness: [0, 1]
                }
            },
            series: [{
                name: '风险情况统计',
                type: 'pie',
                radius: '50%',
                center: ['50%', '50%'],
                color: ['#3D7EAA', '#FFE47A', '#757F9A', '#D7DDE8'],
                data: data.sort(function(a, b) {
                    return a.value - b.value
                }),
                roseType: 'radius',

                label: {
                    normal: {
                        formatter: ['{c|{c}次}', '{b|{b}}'].join('\n'),
                        rich: {
                            c: {
                                color: 'rgb(241,246,104)',
                                fontSize: 12,
                                fontWeight:'bold',
                                lineHeight: 5
                            },
                            b: {
                                color: 'rgb(98,137,169)',
                                fontSize: 12,
                                height: 20
                            },
                        },
                    }
                },
                labelLine: {
                    normal: {
                        lineStyle: {
                            color: 'rgb(98,137,169)',
                        },
                        smooth: 0.2,
                        length: 10,
                        length2: 20,

                    }
                },
                itemStyle: {
                    normal: {
                        shadowColor: 'rgba(0, 0, 0, 0.8)',
                        shadowBlur: 50,
                    }
                }
            }]
        }
        myChart.setOption(option);
        window.addEventListener("resize", function() {
            myChart.resize();
        });
    }
    function chart3(data){
        var myChart = echarts.init(document.getElementById('echart3'));
        var option = {
            tooltip: {
                trigger: 'item',
                formatter: "{b} : {c} ({d}%)"
            },

            visualMap: {
                show: false,
                min: 500,
                max: 600,
                inRange: {
                    //colorLightness: [0, 1]
                }
            },
            series: [{
                name: '隐患情况统计',
                type: 'pie',
                radius: '50%',
                center: ['50%', '50%'],
                color: ['rgb(131,249,103)', '#FBFE27', '#FE5050', '#1DB7E5'],
                data: data.sort(function(a, b) {
                    return a.value - b.value
                }),
                roseType: 'radius',

                label: {
                    normal: {
                        formatter: ['{c|{c}次}', '{b|{b}}'].join('\n'),
                        rich: {
                            c: {
                                color: 'rgb(241,246,104)',
                                fontSize: 12,
                                fontWeight:'bold',
                                lineHeight: 5
                            },
                            b: {
                                color: 'rgb(98,137,169)',
                                fontSize: 12,
                                height: 20
                            },
                        },
                    }
                },
                labelLine: {
                    normal: {
                        lineStyle: {
                            color: 'rgb(98,137,169)',
                        },
                        smooth: 0.2,
                        length: 10,
                        length2: 20,

                    }
                },
                itemStyle: {
                    normal: {
                        shadowColor: 'rgba(0, 0, 0, 0.8)',
                        shadowBlur: 50,
                    }
                }
            }]
        }
        myChart.setOption(option);
        window.addEventListener("resize", function() {
            myChart.resize();
        });
    }
    function chart4(data){
        var myChart = echarts.init(document.getElementById('echart4'));
        var option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            grid: {
                top: '20%',
                right: '10%',
                left: '10%',
                bottom: '12%'
            },
            xAxis: [{
                type: 'category',
                data: ['人员行为隐患', '设备设施隐患', '外部环境隐患', '其它隐患','燃气调压设施','燃气控制设施','防爆装置','管道'],
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,0.12)'
                    }
                },
                axisLabel: {
                    margin: 10,
                    color: '#e2e9ff',
                    interval:0,
                    rotate:15,
                    textStyle: {
                        fontSize: 12
                    },
                },
            }],
            yAxis: [{
                axisLabel: {
                    formatter: '{value}',
                    color: '#e2e9ff',
                },
                axisLine: {
                    show: false
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,0.12)'
                    }
                }
            }],
            series: [{
                type: 'bar',
                data: [300, 450, 770, 203,285,410,274,274],
                barWidth: '10px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(0,244,255,1)' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: 'rgba(0,77,167,1)' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 30, 30],
                        shadowColor: 'rgba(0,160,221,1)',
                        shadowBlur: 4,
                    }
                },
                label: {
                    normal: {
                        show: true,
                        lineHeight: 30,
                        width: 80,
                        height: 30,
                        backgroundColor: 'rgba(0,160,221,0.1)',
                        borderRadius: 200,
                        position: ['-8', '-60'],
                        distance: 1,
                        formatter: [
                            '    {d|●}',
                            ' {a|{c}}     \n',
                            '    {b|}'
                        ].join(','),
                        rich: {
                            d: {
                                color: '#3CDDCF',
                            },
                            a: {
                                color: '#fff',
                                align: 'center',
                            },
                            b: {
                                width: 1,
                                height: 30,
                                borderWidth: 1,
                                borderColor: '#234e6c',
                                align: 'left'
                            },
                        }
                    }
                }
            }]
        }
        myChart.setOption(option);
        window.addEventListener("resize", function() {
            myChart.resize();
        });
    }
    function chart5(data){
        var nameArr = []
        var serverArr = []
        for(var i=0;i<data.length;i++) {
            nameArr.push(data[i].name);
            serverArr.push(
                {
                    name: data[i].name,
                    type: 'bar',
                    barWidth: '10%',
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: data[i].color1
                            }, {
                                offset: 1,
                                color: data[i].color2
                            }]),
                            //barBorderRadius: 12,
                        },
                    },
                    data: data[i].value
                }
            )
        }


        var myChart = echarts.init(document.getElementById('echart5'));
        var option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '2%',
                right: '4%',
                bottom: '14%',
                top: '16%',
                containLabel: true
            },
            legend: {
                data: nameArr,
                right: 10,
                top: 12,
                textStyle: {
                    color: "#5E7DB4"
                },
                itemWidth: 12,
                itemHeight: 10,
                // itemGap: 35
            },
            xAxis: {
                type: 'category',
                data: ['低', '中', '高'],
                axisLine: {
                    lineStyle: {
                        color: 'white'

                    }
                },
                axisLabel: {
                    textStyle: {
                        fontFamily: 'Microsoft YaHei'
                    }
                },
            },

            yAxis: {
                type: 'value',
                max: '4',
                axisLine: {
                    show: false,
                    lineStyle: {
                        color: 'white'
                    }
                },
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: 'rgba(255,255,255,0.3)'
                    }
                },
                axisLabel: {}
            },
            series: serverArr
        }
        myChart.setOption(option);
        window.addEventListener("resize", function() {
            myChart.resize();
        });
    }
    function chart6(data){
        var myColor = ['#81E7ED'];
        var dataLine = [40, 56, 23, 15, 15];
        var positionLeft = 10,
            max = 100 + positionLeft;

        var g_cellBar0_y = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAoCAYAAAAhf6DEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAA6SURBVEhLY2x8/vY/A4mg3zwcTDOBSTLBqGYSwahmEsGoZhLBqGYSwahmEsGoZhLBqGYSwZDUzMAAAJldBMF2UASmAAAAAElFTkSuQmCC';
        var g_cellBarImg0_y = new Image();
        g_cellBarImg0_y.src = g_cellBar0_y;
        var myChart = echarts.init(document.getElementById('echart6'));

        var option = {
            grid: [{
                left: '4%',
                top: '4%',
                right: '4%',
                bottom: '4%',
                containLabel: true
            },
                {
                    left: '4%',
                    top: '4%',
                    right: '4%',
                    bottom: '4%',
                    containLabel: true
                }
            ],
            xAxis: [{
                //   max:max,
                show: false
            }],
            yAxis: [{
                axisTick: 'none',
                axisLine: 'none',
                axisLabel: {
                    inside: true,
                    align: 'left',
                    textStyle: {
                        color: '#81E7ED',
                        fontSize: '12'
                    }
                },
                z: 10,
                data: ['燃气', '中毒', '火灾', '爆燃', '塌方']
            }, {
                axisTick: 'none',
                axisLine: 'none',
                show: true,
                axisLabel: {
                    inside: true,
                    align: 'right',
                    textStyle: {
                        color: '#ffffff',
                        fontSize: '16'
                    }
                },
                z: 10,
                data: [40, 56, 23, 15, 15]
            }, {

                axisLine: {
                    lineStyle: {
                        color: 'rgba(0,0,0,0)'
                    }
                },
                data: []
            }],
            series: [

                { //间距
                    type: 'bar',
                    barWidth: 14,
                    stack: 'b',
                    legendHoverLink: false,
                    itemStyle: {
                        normal: {
                            color: 'rgba(0,0,0,0)'
                        }
                    },
                    z: 3,
                    data: [positionLeft, positionLeft, positionLeft, positionLeft, positionLeft]
                }, {
                    name: '条',
                    type: 'bar',
                    stack: 'b',
                    yAxisIndex: 0,
                    data: dataLine,
                    label: {
                        normal: {
                            show: false,
                            position: 'right',
                            distance: 10,
                            formatter: function(param) {
                                return param.value + '%'
                            },
                            textStyle: {
                                color: '#ffffff',
                                fontSize: '16'
                            }
                        }
                    },
                    barWidth: 14,
                    itemStyle: {
                        color: {
                            image: g_cellBarImg0_y,
                            repeat: 'repeat'
                        }
                    },
                    z: 2
                }, {
                    name: '白框',
                    type: 'bar',
                    yAxisIndex: 1,
                    barGap: '-100%',
                    data: [99.8, 99.9, 99.9, 99.9, 99.9],
                    barWidth: 23,
                    itemStyle: {
                        normal: {
                            color: '#0e2147',
                            barBorderRadius: 2
                        }
                    },
                    z: 1
                },
                {
                    name: '外框',
                    type: 'bar',
                    yAxisIndex: 2,
                    barGap: '-100%',
                    data: [100, 100, 100, 100, 100],
                    barWidth: 25,
                    label: {
                        normal: {
                            show: false,
                            position: 'right',
                            distance: 20,
                            formatter: function(data) {
                                return dataLine[data.dataIndex] + "%";
                            },
                            textStyle: {
                                color: '#ffffff',
                                fontSize: '12'
                            }
                        }
                    },
                    itemStyle: {
                        normal: {
                            color: function(params) {
                                var num = myColor.length
                                return myColor[params.dataIndex % num]
                            },
                            barBorderRadius: [0, 7, 0, 7]
                        }
                    },
                    z: 0
                },
            ]
        }
        myChart.setOption(option);
        window.addEventListener("resize", function() {
            myChart.resize();
        });
    }
    function chart7() {
        var highlight = '#03b7c9';

        var demoData = [
            { name: '输配', value: 40,  pos: ['16.6%', '50%'], range: [0, 100] },
            { name: '调压', value: 50,  pos: ['49.8%', '50%'], range: [0, 100] },
            { name: '计量', value: 60, pos: ['83%', '50%'], range: [0, 100] }
        ];
        var myChart = echarts.init(document.getElementById('echart7'));
        var option = {
            series: (function() {
                var result = [];

                demoData.forEach(function(item) {
                    result.push(
                        // 外围刻度
                        {
                            type: 'gauge',
                            center: item.pos,
                            radius: '30%',  // 1行3个
                            splitNumber: item.splitNum || 10,
                            min: item.range[0],
                            max: item.range[1],
                            startAngle: 225,
                            endAngle: -45,
                            axisLine: {
                                show: true,
                                lineStyle: {
                                    width: 2,
                                    shadowBlur: 0,
                                    color: [
                                        [1, highlight]
                                    ]
                                }
                            },
                            axisTick: {
                                show: true,
                                lineStyle: {
                                    color: highlight,
                                    width: 1
                                },
                                length: -5,
                                splitNumber: 10
                            },
                            splitLine: {
                                show: true,
                                length: -14,
                                lineStyle: {
                                    color: highlight,
                                }
                            },
                            axisLabel: {
                                distance: -20,
                                textStyle: {
                                    color: highlight,
                                    fontSize: '12',
                                    fontWeight: 'bold'
                                }
                            },
                            pointer: {
                                show: 0
                            },
                            detail: {
                                show: 0
                            }
                        },

                        // 内侧指针、数值显示
                        {
                            name: item.name,
                            type: 'gauge',
                            center: item.pos,
                            radius: '29%',
                            startAngle: 225,
                            endAngle: -45,
                            min: item.range[0],
                            max: item.range[1],
                            axisLine: {
                                show: true,
                                lineStyle: {
                                    width: 12,
                                    color: [
                                        [1, 'rgba(255,255,255,.1)']
                                    ]
                                }
                            },
                            axisTick: {
                                show: 0,
                            },
                            splitLine: {
                                show: 0,
                            },
                            axisLabel: {
                                show: 0
                            },
                            pointer: {
                                show: true,
                                length: '100%',
                                width:3
                            },
                            detail: {
                                show: true,
                                offsetCenter: [0, '100%'],
                                textStyle: {
                                    fontSize: 12,
                                    color: '#fff'
                                },
                                formatter: [
                                    '{value} ' + (item.unit || ''),
                                    '{name|' + item.name + '}'
                                ].join('\n'),
                                rich: {
                                    name: {
                                        fontSize: 12,
                                        lineHeight: 12,
                                        color: '#ddd'
                                    }
                                }
                            },
                            itemStyle: {
                                normal: {
                                    color: highlight,
                                }
                            },
                            data: [{
                                value: item.value
                            }]
                        }
                    );
                });

                return result;
            })()
        }
        myChart.setOption(option);
        window.addEventListener("resize", function() {
            myChart.resize();
        });
    }
</script>
</body>
</html>
